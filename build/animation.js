!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.animation=e():t.animation=e()}(self,(function(){return(()=>{"use strict";var t={297:(t,e,n)=>{var i=n(318),s=n(470);function o(t){t&&t()}function r(){this.taskQueue=[],this.timeline=new i,this.state=0,this.index=0}r.prototype.loadImage=function(t){return this._add((function(e){s(t.slice(),e)}),0)},r.prototype.changePosition=function(t,e,n){var i,s,r=e.length;if(r){var a=this;i=function(i,s){n&&(t.style.backgroundImage="url("+n+")");var o=Math.min(s/a.interval|0,r),u=e[o-1].split(" ");t.style.backgroundPosition=u[0]+"px "+u[1]+"px",o===r&&i()},s=1}else i=o,s=0;return this._add(i,s)},r.prototype.changeSrc=function(t,e){var n,i,s=e.length;if(s){var r=this;n=function(n,i){var o=Math.min(i/r.interval|0,s);t.src=e[o-1],o===s&&n()},i=1}else n=o,i=0;return this._add(n,i)},r.prototype.enterFrame=function(t){return this._add(t,1)},r.prototype.then=function(t){return this._add((function(e){t(),e()}),0)},r.prototype.start=function(t){return 1===this.state?this:this.taskQueue.length?(this.state=1,this.interval=t||80,this._runTask(),this):this},r.prototype.repeat=function(t){var e=this;return this._add((function(){if(void 0===t)return e.index--,void e._runTask();if(t)t--,e.index--,e._runTask();else{var n=e.taskQueue[e.index];e._next(n)}}),0)},r.prototype.repeatForever=function(){return this.repeat()},r.prototype.wait=function(t){return this.taskQueue&&this.taskQueue.length>0&&(this.taskQueue[this.taskQueue.length-1].wait=t),this},r.prototype.pause=function(){return 1===this.state?(this.state=2,this.timeline.stop(),this):this},r.prototype.resume=function(){return 2===this.state?(this.state=1,this.timeline.resume(),this):this},r.prototype.dispose=function(){return 0!==this.state?(this.state=0,this.taskQueue=null,this.timeline.stop(),this.timeline=null,this):this},r.prototype._add=function(t,e){return this.taskQueue.push({taskFn:t,type:e}),this},r.prototype._runTask=function(){if(this.taskQueue&&1===this.state)if(this.index!==this.taskQueue.length){var t=this.taskQueue[this.index];0===t.type?this._syncTask(t):1===t.type&&this._asyncTask(t)}else this.dispose()},r.prototype._syncTask=function(t){var e=this;(0,t.taskFn)((function(){e._next(t)}))},r.prototype._asyncTask=function(t){var e=this;this.timeline.onenterFrame=function(n){(0,t.taskFn)((function(){e.timeline.stop(),e._next(t)}),n)},this.timeline.start(this.interval)},r.prototype._next=function(t){var e=this;this.index++,t.wait?setTimeout((function(){e._runTask()}),t.wait):this._runTask()},t.exports=function(){return new r}},470:t=>{var e=0;t.exports=function(t,n,i){var s=0,o=!0,r=0,a=!1;for(var u in t)if(t.hasOwnProperty(u)){var h=t[u];"string"==typeof h&&(h=t[u]={src:h}),h&&h.src&&(s++,h.id="__img__"+ ++e,h.img=window[h.id]=new Image,c(h))}function c(t){t.status="loading";var e=t.img;function i(){e.onload=e.onerror=null;try{delete window[t.id]}catch(t){}--s||a||(clearTimeout(r),n(o))}e.onload=function(){o=o&&!0,e.status="loaded",i()},e.onerror=function(){o=!1,t.status="error",i()},e.src=t.src}s?i&&(r=setTimeout((function(){a=!0,n(!1)}),i)):n(o)}},318:t=>{var e=1e3/60,n=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||function(t){return window.setTimeout(t,t.interval||e)},i=window.cancelAnimationFrame||window.webkitCancelRequestAnimationFrame||window.mozCancelRequestAnimationFrame||window.oCanccelRequestAnimationFrame||function(t){return window.clearTimeout(t)};function s(){this.animationHandler=0,this.state=0}function o(t,e){var i=+new Date;function s(){var o=+new Date;t.animationHandler=n(s),o-i>=t.interval&&(t.onenterFrame(o-e),i=o)}t.startTime=e,s.interval=t.interval,s()}s.prototype.onenterFrame=function(t){},s.prototype.start=function(t){1!==this.state&&(this.state=1,this.interval=t||e,o(this,+new Date))},s.prototype.stop=function(){1===this.state&&(this.state=2,this.startTime&&(this.dur=+new Date-this.startTime),i(this.animationHandler))},s.prototype.resume=function(){1!==this.state&&this.dur&&this.interval&&(this.state=1,o(this,+new Date-this.dur))},t.exports=s}},e={};return function n(i){if(e[i])return e[i].exports;var s=e[i]={exports:{}};return t[i](s,s.exports,n),s.exports}(297)})()}));